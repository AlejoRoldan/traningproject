{
  "query": "CREATE TABLE `badges` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(100) NOT NULL,\n\t`description` text NOT NULL,\n\t`icon` varchar(50) NOT NULL,\n\t`category` enum('empathy','protocol','resolution','crisis','speed','consistency') NOT NULL,\n\t`criteria` text NOT NULL,\n\t`rarity` enum('common','rare','epic','legendary') NOT NULL DEFAULT 'common',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `badges_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `improvement_plans` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`title` varchar(200) NOT NULL,\n\t`description` text NOT NULL,\n\t`generatedBy` enum('automatic','supervisor','trainer') NOT NULL,\n\t`createdBy` int NOT NULL,\n\t`status` enum('active','completed','cancelled') NOT NULL DEFAULT 'active',\n\t`weaknessAreas` text,\n\t`recommendedScenarios` text,\n\t`goals` text,\n\t`progress` int NOT NULL DEFAULT 0,\n\t`startDate` timestamp NOT NULL DEFAULT (now()),\n\t`targetDate` timestamp,\n\t`completedAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `improvement_plans_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `messages` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`simulationId` int NOT NULL,\n\t`role` enum('agent','client','system') NOT NULL,\n\t`content` text NOT NULL,\n\t`timestamp` timestamp NOT NULL DEFAULT (now()),\n\t`evaluationNote` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `messages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `scenarios` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`title` varchar(200) NOT NULL,\n\t`description` text NOT NULL,\n\t`category` enum('informative','transactional','fraud','money_laundering','theft','complaint','credit','digital_channels') NOT NULL,\n\t`complexity` int NOT NULL,\n\t`estimatedDuration` int NOT NULL,\n\t`systemPrompt` text NOT NULL,\n\t`clientProfile` text NOT NULL,\n\t`evaluationCriteria` text NOT NULL,\n\t`idealResponse` text,\n\t`tags` text,\n\t`isActive` int NOT NULL DEFAULT 1,\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `scenarios_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `simulations` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`scenarioId` int NOT NULL,\n\t`status` enum('in_progress','completed','abandoned') NOT NULL DEFAULT 'in_progress',\n\t`startedAt` timestamp NOT NULL DEFAULT (now()),\n\t`completedAt` timestamp,\n\t`duration` int,\n\t`transcript` text,\n\t`overallScore` int,\n\t`categoryScores` text,\n\t`feedback` text,\n\t`strengths` text,\n\t`weaknesses` text,\n\t`recommendations` text,\n\t`pointsEarned` int DEFAULT 0,\n\t`badgesEarned` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `simulations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `team_stats` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`department` varchar(100) NOT NULL,\n\t`supervisorId` int,\n\t`period` enum('daily','weekly','monthly') NOT NULL,\n\t`periodDate` timestamp NOT NULL,\n\t`totalSimulations` int NOT NULL DEFAULT 0,\n\t`averageScore` int,\n\t`topPerformers` text,\n\t`commonWeaknesses` text,\n\t`improvementRate` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `team_stats_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `user_badges` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`badgeId` int NOT NULL,\n\t`earnedAt` timestamp NOT NULL DEFAULT (now()),\n\t`simulationId` int,\n\tCONSTRAINT `user_badges_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `users` MODIFY COLUMN `role` enum('user','admin','agent','supervisor','trainer') NOT NULL DEFAULT 'agent';\nALTER TABLE `users` ADD `department` varchar(100);\nALTER TABLE `users` ADD `supervisorId` int;\nALTER TABLE `users` ADD `level` enum('junior','intermediate','senior','expert') DEFAULT 'junior';\nALTER TABLE `users` ADD `points` int DEFAULT 0 NOT NULL;\nALTER TABLE `users` ADD `badges` text;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3irpNWmUc4ctRuT.6a7388c9cb8f --database 9y9hjjz29oG5PHr9mg6PsX --execute CREATE TABLE `badges` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(100) NOT NULL,\n\t`description` text NOT NULL,\n\t`icon` varchar(50) NOT NULL,\n\t`category` enum('empathy','protocol','resolution','crisis','speed','consistency') NOT NULL,\n\t`criteria` text NOT NULL,\n\t`rarity` enum('common','rare','epic','legendary') NOT NULL DEFAULT 'common',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `badges_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `improvement_plans` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`title` varchar(200) NOT NULL,\n\t`description` text NOT NULL,\n\t`generatedBy` enum('automatic','supervisor','trainer') NOT NULL,\n\t`createdBy` int NOT NULL,\n\t`status` enum('active','completed','cancelled') NOT NULL DEFAULT 'active',\n\t`weaknessAreas` text,\n\t`recommendedScenarios` text,\n\t`goals` text,\n\t`progress` int NOT NULL DEFAULT 0,\n\t`startDate` timestamp NOT NULL DEFAULT (now()),\n\t`targetDate` timestamp,\n\t`completedAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `improvement_plans_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `messages` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`simulationId` int NOT NULL,\n\t`role` enum('agent','client','system') NOT NULL,\n\t`content` text NOT NULL,\n\t`timestamp` timestamp NOT NULL DEFAULT (now()),\n\t`evaluationNote` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `messages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `scenarios` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`title` varchar(200) NOT NULL,\n\t`description` text NOT NULL,\n\t`category` enum('informative','transactional','fraud','money_laundering','theft','complaint','credit','digital_channels') NOT NULL,\n\t`complexity` int NOT NULL,\n\t`estimatedDuration` int NOT NULL,\n\t`systemPrompt` text NOT NULL,\n\t`clientProfile` text NOT NULL,\n\t`evaluationCriteria` text NOT NULL,\n\t`idealResponse` text,\n\t`tags` text,\n\t`isActive` int NOT NULL DEFAULT 1,\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `scenarios_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `simulations` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`scenarioId` int NOT NULL,\n\t`status` enum('in_progress','completed','abandoned') NOT NULL DEFAULT 'in_progress',\n\t`startedAt` timestamp NOT NULL DEFAULT (now()),\n\t`completedAt` timestamp,\n\t`duration` int,\n\t`transcript` text,\n\t`overallScore` int,\n\t`categoryScores` text,\n\t`feedback` text,\n\t`strengths` text,\n\t`weaknesses` text,\n\t`recommendations` text,\n\t`pointsEarned` int DEFAULT 0,\n\t`badgesEarned` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `simulations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `team_stats` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`department` varchar(100) NOT NULL,\n\t`supervisorId` int,\n\t`period` enum('daily','weekly','monthly') NOT NULL,\n\t`periodDate` timestamp NOT NULL,\n\t`totalSimulations` int NOT NULL DEFAULT 0,\n\t`averageScore` int,\n\t`topPerformers` text,\n\t`commonWeaknesses` text,\n\t`improvementRate` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `team_stats_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `user_badges` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`badgeId` int NOT NULL,\n\t`earnedAt` timestamp NOT NULL DEFAULT (now()),\n\t`simulationId` int,\n\tCONSTRAINT `user_badges_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `users` MODIFY COLUMN `role` enum('user','admin','agent','supervisor','trainer') NOT NULL DEFAULT 'agent';\nALTER TABLE `users` ADD `department` varchar(100);\nALTER TABLE `users` ADD `supervisorId` int;\nALTER TABLE `users` ADD `level` enum('junior','intermediate','senior','expert') DEFAULT 'junior';\nALTER TABLE `users` ADD `points` int DEFAULT 0 NOT NULL;\nALTER TABLE `users` ADD `badges` text;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3121
}